## 📘 ScrollVars v1.0.0

```js
/*!
 * ScrollVars v1.0.0
 * (c) 2025 ng.inc / MIT
 * ---------------------------------------------------------------------
 * 📘 概要
 * スクロール位置に応じて要素へ CSSカスタムプロパティ（変数）を設定する軽量JSプラグイン。
 * GSAPやScrollTriggerなしでも、純粋にCSS変数でトランスフォームや色などを制御可能。
 *
 * ---------------------------------------------------------------------
 * 🧩 主な機能
 * - 対象: `.scrollvars` または `[data-sv]` を持つ要素。
 * - data属性で複数のCSS変数を定義可能。
 * - 要素がビューポートを通過する間の進行率（0〜1）に応じて値を補間。
 * - 値範囲（min..max）と初期値（@init）を指定可能。
 * - 要素がスクロール領域に入る／出るタイミングで自動クラス付与。
 * - `ResizeObserver`・`visualViewport` に対応し、スマホURLバーでも安定。
 *
 * ---------------------------------------------------------------------
 * 🔧 基本構文
 *
 *  <div class="scrollvars"
 *       data-sv="--scale=0..1@0; --x=-5..5@-5; --hue=0..360@0"
 *       data-sv-start="0.0"
 *       data-sv-end="1.0">
 *       コンテンツ...
 *  </div>
 *
 * ---------------------------------------------------------------------
 * 📐 data-sv属性の書式
 *
 *  data-sv="--変数名=最小値..最大値@初期値; --別変数=..."
 *
 *  - 「@初期値」は省略可（省略時は最小値が初期値になる）
 *  - マイナス値・小数値も指定可能。
 *  - 複数指定する場合はセミコロンで区切る。
 *
 * 例：
 *  "--scale=0..1@0.2; --x=-50..50@-50; --opacity=0..1@0"
 *
 * ---------------------------------------------------------------------
 * 🎯 data-sv-start / data-sv-end
 *
 *  スクロール区間の基準をビューポート高さに対する割合(0〜1)で指定。
 *
 *  - data-sv-start="0.0" → 要素の上端が画面上端に来たとき t=0（開始）
 *  - data-sv-end="1.0"   → 要素の下端が画面下端に来たとき t=1（終了）
 *
 *  ※ start=end の場合は「瞬時に完了」トリガー的に動作。
 *
 * ---------------------------------------------------------------------
 * 🧮 進行率 t の算出ロジック
 *
 *  t = -A / (B - A)
 *  A: 要素上端 - startライン位置
 *  B: 要素下端 - endライン位置
 *  → 開始前は常に0、終了後は1で打ち切り。
 *
 * ---------------------------------------------------------------------
 * 🧠 進行値の補間ロジック（progressOrigin）
 *
 *  progressOrigin = "init" | "min" | "center"
 *
 *  - "init": @初期値 → max に補間（推奨）
 *  - "min":  min → max に補間（従来式）
 *  - "center": minとmaxの中点を原点に補間（振り子的）
 *
 *  ※ data-sv-origin="init|min|center" でも個別指定可能。
 *
 * ---------------------------------------------------------------------
 * 🧩 クラス付与（スクロール状態）
 *
 *  - is-sv-active   : tが0〜1の間（スクロール中）
 *  - is-sv-started  : tがthresholdを超えた（開始）
 *  - is-sv-ended    : tが(1-threshold)以上（終了）
 *
 * ---------------------------------------------------------------------
 * ⚙️ 初期化オプション（ScrollVars.init({...})）
 *
 *  selector         : 対象セレクタ
 *  clamp            : tを0..1範囲にクランプ（true推奨）
 *  threshold        : 開始/終了クラス判定のヒステリシス
 *  smartResize      : SPでのresize多発を防止（true推奨）
 *  resizeMinDelta   : 再計算の最小高さ変化量(px)
 *  useVisualViewport: visualViewportを使用してSP安定化
 *  initUntilStart   : スクロール開始まで@初期値を維持
 *  progressOrigin   : 上記"init"|"min"|"center"（グローバル既定）
 *
 * 例：
 *  ScrollVars.init({
 *    resizeMinDelta: 64,
 *    progressOrigin: "init"
 *  });
 *
 * ---------------------------------------------------------------------
 * 🪄 カスタムイベント
 *
 *  各要素に対して以下が発火：
 *   - "sv:start" : 開始ライン到達時
 *   - "sv:enter" : アクティブ領域に入った時
 *   - "sv:leave" : アクティブ領域から出た時
 *   - "sv:end"   : 終了ライン通過時
 *
 *  例：
 *    el.addEventListener("sv:start", e => console.log("start", e.detail.t));
 *
 * ---------------------------------------------------------------------
 * 💡 使用例（CSS）
 *
 *  .scrollvars {
 *    transform: translateX(calc(var(--x, 0) * 1%)) scale(var(--scale, 1));
 *    filter: hue-rotate(calc(var(--hue, 0) * 1deg));
 *  }
 *
 * ---------------------------------------------------------------------
 * 🧩 拡張予定（今後のアイデア）
 *  - data-sv-ease="easeOutCubic" 対応
 *  - data-sv-once="true"（1回きり再生）
 *  - data-sv-media="(min-width:1024px)" 条件付き有効化
 * ---------------------------------------------------------------------
 */
